<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Retirada • AES</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="retirada.css">
</head>
<body>
  <div class="page-root">

    <!-- topbar: esquerda = 3 barras -> registroretirada.html, centro título, direita = voltar para pessoal.html -->
    <header class="topbar">
      <a class="back-btn" href="pessoal.html" aria-label="Voltar">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>

      <h1 class="page-title">Retirada</h1>

      <a class="menu-btn" href="registroretirada.html" aria-label="Registos">
        <svg width="22" height="18" viewBox="0 0 24 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="0" y="1" width="24" height="2" rx="1" fill="currentColor"/>
          <rect x="0" y="8" width="24" height="2" rx="1" fill="currentColor"/>
          <rect x="0" y="15" width="24" height="2" rx="1" fill="currentColor"/>
        </svg>
      </a>
    </header>

    <!-- painel informativo (igual à imagem) -->
    <div class="info-panel" role="note" aria-live="polite">
      <ol>
        <li>Retirada mínima de <strong>2.500 KZ</strong> (vários saques por dia)</li>
        <li>Taxa de retirada de <strong>10%</strong></li>
        <li>Horário de retirada: <strong>9h às 21h</strong> (todos os dias)</li>
        <li>Após a solicitação, o saque chegará na conta em até <strong>24 horas</strong></li>
      </ol>
    </div>

    <main class="dashboard">
      <!-- elemento escondido para preservar lógica JS (saldo continua sendo usado pelo JS) -->
      <div id="saldo-total" class="visually-hidden">Kz 0,00</div>

      <!-- FORM CARD: ORDEM FEITA COMO NA IMAGEM: CAMPO VALOR -> BANCO -> BOTÃO -->
      <section class="card form-card" aria-labelledby="form-title">
        <h2 id="form-title" class="visually-hidden">Formulário de Retirada</h2>

        <!-- Valor (grande, centralizado) -->
        <div class="value-area">
          <input id="valor" type="number" inputmode="decimal" placeholder="kz 0,00" min="0" step="0.01" />
          <div class="underline"></div>
        </div>

        <!-- Banco (seletor) -->
        <div class="bank-row">
          <button id="bank-btn" class="bank-picker" type="button" aria-haspopup="dialog" aria-expanded="false">
            <span id="bank-picked">Selecionar banco</span>
            <span class="chev">▾</span>
          </button>
        </div>

        <!-- Botão enviar -->
        <div class="submit-row">
          <button id="btn-enviar" class="btn-primary">Enviar</button>
        </div>

        <!-- Caixa de erro (mantida) -->
        <div id="withdraw-error" class="error-box hidden" role="alert"></div>

        <!-- Informações / Taxa / Horário (na parte inferior) -->
        <div class="notes">
         <!--<div class="note-line"><span></span><strong id="taxa">Kz 0,00</strong></div>
          <div class="note-line"><span></span><strong id="valor-liquido">Kz 0,00</strong></div> -->
          <div class="small-notes">
            <!--<p>Retirada mínima: <strong>2.500 Kz</strong></p>
            <p>Horário: <strong>9h — 18h</strong></p>-->
          </div>
        </div>
      </section>
    </main>

    <!-- Modal de bancos -->
    <div id="bank-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-panel">
        <div class="modal-head">
          <h3>Escolha o banco</h3>
          <button id="close-modal" class="modal-close" aria-label="Fechar">✕</button>
        </div>
        <ul id="bank-list" class="bank-list" role="listbox" aria-label="Bancos disponíveis"></ul>
      </div>
    </div>

  </div>
  <!-- Modal de feedback reutilizável -->
  <div id="feedback-modal" class="app-modal hidden" role="dialog" aria-modal="true" aria-live="polite">
    <div class="modal-card" role="document">
      <div class="modal-icon" aria-hidden="true">✓</div>
      <p id="feedback-text" class="modal-text">Mensagem…</p>
      <button id="feedback-close" class="modal-close" type="button" aria-label="Fechar">OK</button>
    </div>
  </div>

  <!-- scripts (sem alteração) -->
  <script type="module" src="./firebase-config.js"></script>
  <script type="module" src="./retirada.js"></script>
</body>
</html>
