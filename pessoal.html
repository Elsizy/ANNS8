<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pessoal - AES</title>

  <!-- Fonte -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="pessoal.css" />
  <link rel="stylesheet" href="bottom-nav.css" />
</head>
<body class="has-bottom-nav">
  <!-- SVG full-screen de fundo (pointer-events:none para não interferir) -->
<svg class="circuit-svg-full" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
  <!-- Exemplo de traços; posso substituir pelo SVG exato se preferir -->
  <g fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
    <path d="M30 60h180v20h-40v80h-120z"/>
    <path d="M260 40h120v40h-40v100h-80z"/>
    <path d="M420 20h220v20h-40v140h-180z"/>
    <!-- posso gerar paths mais complexos conforme a imagem -->
  </g>
</svg>

  <!-- SVG circuito (fundo decorativo) - pointer-events:none para não interferir -->
  <svg class="circuit-svg" viewBox="0 0 1200 220" preserveAspectRatio="none" aria-hidden="true">
    <g fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
      <!-- caminhos desenhados para imitar a referência -->
      <path d="M40 40 v80 q0 8 8 8 h36 q8 0 8 8 v60" />
      <path d="M160 20 h60 v40 q0 10 10 10 h20" />
      <path d="M360 12 v120 q0 12 12 12 h28" />
      <path d="M540 18 h40 v40 q0 12 12 12 h36 q12 0 12 12 v40" />
      <path d="M760 30 v80 q0 8 -8 8 h-36" />
      <path d="M940 20 h80" />
    </g>
  </svg>

  <!-- Top header -->
  <header class="top-header">
    <div class="header-inner">
      <div class="greeting">
        <div class="g-ola">Olá,</div>
        <div id="user-main" class="g-name">—</div>
        <div class="g-sub">Uid: <span id="user-shortid">—</span></div>
      </div>

      <!-- Logo no canto superior direito -->
      <div class="logo-circle" aria-hidden="true">AES</div>
    </div>
  </header>

  <main class="dashboard">
    <!-- Painel grande do saldo (cartão com gradiente) -->
    <section class="balances-panel" aria-label="Saldo">
      <div class="balances-card">
        <div class="balance-left">
          <p class="card-label">Saldo da conta</p>
          <p class="card-value" id="saldo">Kz 0,00</p>
        </div>
        <div class="balance-right">
          <p class="card-label">Conta de receita</p>
          <p class="card-value" id="retirada-total">Kz 0,00</p>
        </div>
      </div>

      <!-- efeito de camadas por baixo (sombra em camadas como na imagem) -->
      <div class="balances-card-shadow"></div>
    </section>

    <!-- Botões principais: Recarga / Retirada -->
    <section class="quick-actions" aria-label="Ações rápidas">
      <a href="deposito.html" class="btn-quick btn-recarga" title="Depositar">
        <span class="ico" aria-hidden="true">💳</span>
        <span class="label">Recarga</span>
      </a>

      <a href="retirada.html" class="btn-quick btn-retirada" title="Retirar">
        <span class="ico" aria-hidden="true">📤</span>
        <span class="label">Retirada</span>
      </a>
    </section>

    <!-- Lista principal de ações (sem duplicações) -->
    <nav class="actions" aria-label="Menu de ações">
      <a class="action-item" href="comprarprodutos.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M6 2v2m12-2v2M3 7h18" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </span>
        <span class="text">Meus investimentos</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="conta.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="2" y="6" width="20" height="12" rx="2" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Conta bancária</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="registros.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Registros de fundos</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="alterarpasse.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M7 11V7a5 5 0 0 1 10 0v4" stroke-width="1.6"/><rect x="3" y="11" width="18" height="10" rx="2" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Alterar a palavra-passe</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="#" id="logout">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke-width="1.6"/><path d="M16 17l5-5-5-5" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Sair da conta</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="carregarapp.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 3v12" stroke-width="1.6"/><path d="M8 7l4-4 4 4" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Descarregar a APP</span>
        <span class="chev">›</span>
      </a>

      <a class="action-item" href="suporte.html">
        <span class="icon svg" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 11a9 9 0 0 1 18 0v3a3 3 0 0 1-3 3h-1v-6h2" stroke-width="1.6"/></svg>
        </span>
        <span class="text">Suporte</span>
        <span class="chev">›</span>
      </a>
    </nav>

  </main>

  <!-- Modal alterar senha (mantido, IDs preservados) -->
  <div id="change-pass-overlay" class="modal-overlay" hidden>
    <div class="modal">
      <h2>Alterar palavra-passe</h2>

      <form id="change-pass-form">
        <label class="modal-label">
          Palavra-passe atual
          <input type="password" id="old-pass" required />
        </label>

        <label class="modal-label">
          Nova palavra-passe
          <input type="password" id="new-pass" required minlength="6" />
        </label>

        <label class="modal-label">
          Confirmar nova palavra-passe
          <input type="password" id="new-pass-2" required minlength="6" />
        </label>

        <p id="change-pass-error" class="modal-error" hidden>—</p>

        <div class="modal-actions">
          <button type="button" id="btn-cancel" class="btn-cancel">Cancelar</button>
          <button type="submit" id="btn-save" class="btn-save">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Bottom nav (centralizado e responsivo) -->
  <nav class="bottom-nav" role="navigation" aria-label="Navegação principal">
    <a href="home.html" class="nav-item" data-key="home">
      <span class="icon">🏠</span>
      <span class="label">Casa</span>
    </a>
    <a href="comprarprodutos.html" class="nav-item" data-key="produtos">
      <span class="icon">📈</span>
      <span class="label">Investir</span>
    </a>
    <a href="equipa.html" class="nav-item" data-key="equipa">
      <span class="icon">👥</span>
      <span class="label">Equipa</span>
    </a>
    <a href="pessoal.html" class="nav-item active" data-key="pessoal">
      <span class="icon">👤</span>
      <span class="label">Utilizador</span>
    </a>
  </nav>

  <!-- Firebase + scripts -->
  <script type="module" src="./firebase-config.js"></script>
  <script type="module" src="./pessoal.js"></script>
  <script src="bottom-nav.js" defer></script>
</body>
  </html>
